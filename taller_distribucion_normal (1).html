<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taller Pr√°ctico: Distribuci√≥n Normal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        
        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2em;
            font-weight: 300;
        }
        
        .section {
            margin: 40px 0;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .section.parte-b {
            border-left-color: #764ba2;
        }
        
        h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        
        h2.parte-b {
            color: #764ba2;
        }
        
        h3 {
            color: #555;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .ejercicio {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .contexto {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        
        .datos {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.8;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        .formula {
            background: #f1f3f4;
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            display: inline-block;
            margin: 5px 0;
            border: 1px solid #ddd;
            font-size: 0.9em;
        }
        
        input[type="text"] {
            background: #fff;
            border: 2px solid #667eea;
            padding: 8px 12px;
            border-radius: 4px;
            min-width: 100px;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.8;
        }
        
        .code-line {
            display: block;
            white-space: pre;
        }
        
        .keyword {
            color: #66d9ef;
            font-weight: bold;
        }
        
        .string {
            color: #e6db74;
        }
        
        .comment {
            color: #75715e;
            font-style: italic;
        }
        
        .function {
            color: #a6e22e;
        }
        
        .number {
            color: #ae81ff;
        }
        
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        
        li {
            margin: 8px 0;
        }
        
        .nota {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .nota strong {
            color: #2e7d32;
        }
        
        .instrucciones {
            background: #fff8e1;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #ffa726;
        }
        
        .instrucciones strong {
            color: #e65100;
            display: block;
            margin-bottom: 10px;
        }
        
        .tarea {
            background: #ffebee;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #ef5350;
        }
        
        .tarea strong {
            color: #c62828;
            display: block;
            margin-bottom: 10px;
        }
        
        .icon {
            margin-right: 10px;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 2em;
            }
            h2 {
                font-size: 1.5em;
            }
        }
        
        /* Estilos para los botones de acci√≥n */
        .action-buttons {
            position: sticky;
            top: 20px;
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            z-index: 100;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #4caf50;
            color: white;
        }
        
        .btn-tertiary {
            background: #ff9800;
            color: white;
        }
        
        .student-info {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        
        .student-info input {
            margin: 10px 0;
            width: 100%;
        }
        
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #4caf50;
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .toast.show {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Toast para notificaciones -->
    <div id="toast" class="toast"></div>
    <div class="container">
        <header>
            <h1>üìä TALLER PR√ÅCTICO: DISTRIBUCI√ìN NORMAL</h1>
            <p class="subtitle">Gu√≠a de Trabajo para Estudiantes</p>
        </header>

        <!-- Informaci√≥n del Estudiante -->
        <div class="student-info">
            <h3 style="margin-top: 0; color: #667eea;">üìù Informaci√≥n del Estudiante</h3>
            <input type="text" id="nombre" placeholder="Nombre completo" style="margin-bottom: 10px;">
            <input type="text" id="codigo" placeholder="C√≥digo estudiantil" style="margin-bottom: 10px;">
            <input type="email" id="email" placeholder="Correo electr√≥nico (opcional)">
        </div>

        <!-- Botones de Acci√≥n -->
        <div class="action-buttons">
            <button class="btn btn-primary" onclick="copiarRespuestas()">
                üìã Copiar Respuestas
            </button>
            <button class="btn btn-secondary" onclick="descargarRespuestas()">
                üíæ Descargar Respuestas
            </button>
            <button class="btn btn-tertiary" onclick="guardarProgreso()">
                üîÑ Guardar Progreso
            </button>
        </div>

        <!-- PARTE A -->
        <div class="section">
            <h2><span class="icon">üî¢</span> PARTE A: CALENTAMIENTO CON DATOS REALES (Excel)</h2>
            
            <div class="ejercicio">
                <h3>Ejercicio 1: Conociendo tus datos</h3>
                
                <div class="contexto">
                    <strong>üìå Contexto:</strong> Tienes las calificaciones finales de 50 estudiantes de C√°lculo (escala 0-100):
                </div>
                
                <div class="datos">
72, 68, 85, 91, 75, 62, 88, 79, 82, 77, 65, 90, 73, 81, 76,<br>
84, 69, 87, 74, 80, 71, 86, 78, 83, 70, 92, 67, 89, 75, 82,<br>
76, 88, 72, 85, 79, 81, 74, 87, 69, 83, 77, 91, 73, 86, 80,<br>
84, 71, 78, 75, 82
                </div>
                
                <p><strong>En Excel, calcula:</strong></p>
                
                <table>
                    <tr>
                        <th>Estad√≠stico</th>
                        <th>Resultado</th>
                    </tr>
                    <tr>
                        <td>a) Media (Œº):</td>
                        <td><input type="text" placeholder="Escribe aqu√≠"></td>
                    </tr>
                    <tr>
                        <td>b) Desviaci√≥n est√°ndar (œÉ):</td>
                        <td><input type="text" placeholder="Escribe aqu√≠"></td>
                    </tr>
                    <tr>
                        <td>c) Calificaci√≥n m√≠nima:</td>
                        <td><input type="text" placeholder="Escribe aqu√≠"></td>
                    </tr>
                    <tr>
                        <td>d) Calificaci√≥n m√°xima:</td>
                        <td><input type="text" placeholder="Escribe aqu√≠"></td>
                    </tr>
                </table>
                
                <div class="nota">
                    <strong>üí° Funciones √∫tiles:</strong> <span class="formula">=PROMEDIO()</span>, <span class="formula">=DESVEST.M()</span>, <span class="formula">=MIN()</span>, <span class="formula">=MAX()</span>
                </div>
                
                <div class="instrucciones">
                    <strong>üìä Crea un histograma:</strong>
                    <ul>
                        <li>Selecciona los datos ‚Üí Insertar ‚Üí Gr√°fico de histograma</li>
                        <li>¬øSe parece a una campana? <input type="text" placeholder="S√≠/No" style="width: 100px;"></li>
                    </ul>
                </div>
            </div>

            <div class="ejercicio">
                <h3>Ejercicio 2: Calculando probabilidades</h3>
                
                <p>Con Œº y œÉ del ejercicio anterior, calcula usando <span class="formula">=DISTR.NORM.N()</span>:</p>
                
                <table>
                    <tr>
                        <th style="width: 40%;">Pregunta</th>
                        <th style="width: 40%;">F√≥rmula Excel</th>
                        <th style="width: 20%;">Respuesta (%)</th>
                    </tr>
                    <tr>
                        <td><strong>a)</strong> ¬øQu√© proporci√≥n de estudiantes sac√≥ menos de 70?</td>
                        <td><span class="formula">=DISTR.NORM.N(70, Œº, œÉ, VERDADERO)</span></td>
                        <td><input type="text" placeholder="%"></td>
                    </tr>
                    <tr>
                        <td><strong>b)</strong> ¬øQu√© proporci√≥n sac√≥ m√°s de 85?</td>
                        <td><span class="formula">=1-DISTR.NORM.N(85, Œº, œÉ, VERDADERO)</span></td>
                        <td><input type="text" placeholder="%"></td>
                    </tr>
                    <tr>
                        <td><strong>c)</strong> ¬øQu√© proporci√≥n sac√≥ entre 75 y 85?</td>
                        <td><span class="formula">=DISTR.NORM.N(85,Œº,œÉ,VERDADERO) - DISTR.NORM.N(75,Œº,œÉ,VERDADERO)</span></td>
                        <td><input type="text" placeholder="%"></td>
                    </tr>
                </table>
            </div>

            <div class="ejercicio">
                <h3>Ejercicio 3: Encontrando valores cr√≠ticos</h3>
                
                <p>Usa <span class="formula">=DISTR.NORM.INV()</span> para encontrar:</p>
                
                <table>
                    <tr>
                        <th style="width: 40%;">Pregunta</th>
                        <th style="width: 40%;">F√≥rmula Excel</th>
                        <th style="width: 20%;">Respuesta</th>
                    </tr>
                    <tr>
                        <td><strong>a)</strong> ¬øQu√© calificaci√≥n deja al 25% m√°s bajo?</td>
                        <td><span class="formula">=DISTR.NORM.INV(0.25, Œº, œÉ)</span></td>
                        <td><input type="text" placeholder="Valor"></td>
                    </tr>
                    <tr>
                        <td><strong>b)</strong> ¬øQu√© calificaci√≥n deja al 10% m√°s alto?</td>
                        <td><span class="formula">=DISTR.NORM.INV(0.90, Œº, œÉ)</span></td>
                        <td><input type="text" placeholder="Valor"></td>
                    </tr>
                    <tr>
                        <td><strong>c)</strong> ¬øEntre qu√© valores est√° el 50% central?</td>
                        <td>Percentil 25 y Percentil 75</td>
                        <td><input type="text" placeholder="min - max" style="width: 150px;"></td>
                    </tr>
                </table>
            </div>

            <div class="ejercicio">
                <h3>Ejercicio 4: Graficando la curva normal</h3>
                
                <div class="instrucciones">
                    <strong>üìà Instrucciones:</strong>
                    <ol>
                        <li>Crea una columna con valores desde Œº-4œÉ hasta Œº+4œÉ (usa incrementos de œÉ/10)</li>
                        <li>En otra columna, calcula <span class="formula">=DISTR.NORM.N(x, Œº, œÉ, FALSO)</span> para cada valor</li>
                        <li>Crea un gr√°fico de dispersi√≥n con l√≠neas suaves</li>
                        <li>Marca con l√≠neas verticales: Œº, Œº¬±œÉ, Œº¬±2œÉ</li>
                    </ol>
                </div>
                
                <p><strong>Observaci√≥n:</strong> ¬øQu√© % de datos cae aproximadamente dentro de Œº¬±œÉ? <input type="text" placeholder="%" style="width: 100px;"></p>
            </div>
        </div>

        <!-- PARTE B -->
        <div class="section parte-b">
            <h2 class="parte-b"><span class="icon">üêç</span> PARTE B: POWER UP CON PYTHON</h2>
            
            <div class="ejercicio">
                <h3>Ejercicio 5: Reproduciendo Excel en Python</h3>
                
                <p>Abre un nuevo notebook de Python (Jupyter/Colab) y ejecuta:</p>
                
                <div class="code-block"><span class="code-line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><span class="code-line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><span class="code-line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><span class="code-line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><span class="code-line"></span><span class="code-line"><span class="comment"># Datos del ejercicio 1</span></span><span class="code-line">calificaciones = np.<span class="function">array</span>([</span><span class="code-line">    <span class="number">72, 68, 85, 91, 75, 62, 88, 79, 82, 77, 65, 90, 73, 81, 76,</span></span><span class="code-line">    <span class="number">84, 69, 87, 74, 80, 71, 86, 78, 83, 70, 92, 67, 89, 75, 82,</span></span><span class="code-line">    <span class="number">76, 88, 72, 85, 79, 81, 74, 87, 69, 83, 77, 91, 73, 86, 80,</span></span><span class="code-line">    <span class="number">84, 71, 78, 75, 82</span></span><span class="code-line">])</span><span class="code-line"></span><span class="code-line"><span class="comment"># Estad√≠sticos b√°sicos</span></span><span class="code-line">mu = calificaciones.<span class="function">mean</span>()</span><span class="code-line">sigma = calificaciones.<span class="function">std</span>()</span><span class="code-line"></span><span class="code-line"><span class="function">print</span>(<span class="string">f"Media: {mu:.2f}"</span>)</span><span class="code-line"><span class="function">print</span>(<span class="string">f"Desviaci√≥n est√°ndar: {sigma:.2f}"</span>)</span><span class="code-line"></span><span class="code-line"><span class="comment"># Crear distribuci√≥n normal</span></span><span class="code-line">dist = stats.<span class="function">norm</span>(mu, sigma)</span><span class="code-line"></span><span class="code-line"><span class="comment"># Calcular probabilidades (completar):</span></span><span class="code-line">prob_menor_70 = dist.<span class="function">cdf</span>(<span class="number">70</span>)</span><span class="code-line">prob_mayor_85 = <span class="comment"># TU C√ìDIGO AQU√ç</span></span><span class="code-line">prob_entre_75_85 = <span class="comment"># TU C√ìDIGO AQU√ç</span></span><span class="code-line"></span><span class="code-line"><span class="function">print</span>(<span class="string">f"P(X < 70) = {prob_menor_70:.4f}"</span>)</span><span class="code-line"><span class="comment"># Imprime las otras dos</span></span></div>
                
                <div class="tarea">
                    <strong>‚úèÔ∏è TAREA:</strong> Completa el c√≥digo para calcular las probabilidades b) y c) del Ejercicio 2.
                    <p style="margin-top: 10px;">Escribe tu respuesta aqu√≠:</p>
                    <input type="text" placeholder="prob_mayor_85 = ..." style="width: 100%; margin: 5px 0;">
                    <input type="text" placeholder="prob_entre_75_85 = ..." style="width: 100%;">
                </div>
            </div>

            <div class="ejercicio">
                <h3>Ejercicio 6: Visualizaci√≥n profesional</h3>
                
                <p>Ejecuta y <strong>modifica</strong> este c√≥digo para mejorar el gr√°fico:</p>
                
                <div class="code-block"><span class="code-line"><span class="comment"># Crear rango de valores</span></span><span class="code-line">x = np.<span class="function">linspace</span>(mu - <span class="number">4</span>*sigma, mu + <span class="number">4</span>*sigma, <span class="number">1000</span>)</span><span class="code-line">y = dist.<span class="function">pdf</span>(x)</span><span class="code-line"></span><span class="code-line"><span class="comment"># Gr√°fico b√°sico</span></span><span class="code-line">plt.<span class="function">figure</span>(figsize=(<span class="number">10, 6</span>))</span><span class="code-line">plt.<span class="function">plot</span>(x, y, <span class="string">'b-'</span>, linewidth=<span class="number">2</span>, label=<span class="string">'Distribuci√≥n Normal'</span>)</span><span class="code-line"></span><span class="code-line"><span class="comment"># TAREA: A√±ade lo siguiente:</span></span><span class="code-line"><span class="comment"># 1. Sombrea el √°rea P(X < 70) en rojo con alpha=0.3</span></span><span class="code-line"><span class="comment"># 2. Marca la media con una l√≠nea vertical verde</span></span><span class="code-line"><span class="comment"># 3. A√±ade t√≠tulo y etiquetas de ejes</span></span><span class="code-line"><span class="comment"># 4. A√±ade leyenda</span></span><span class="code-line"></span><span class="code-line"><span class="comment"># C√≥digo de ayuda:</span></span><span class="code-line"><span class="comment"># x_menor_70 = x[x < 70]</span></span><span class="code-line"><span class="comment"># y_menor_70 = y[x < 70]</span></span><span class="code-line"><span class="comment"># plt.fill_between(x_menor_70, y_menor_70, </span></span><span class="code-line"><span class="comment">#                  alpha=0.3, color='red', label='P(X<70)')</span></span><span class="code-line"><span class="comment"># plt.axvline(mu, color='green', linestyle='--', </span></span><span class="code-line"><span class="comment">#             linewidth=2, label=f'Media={mu:.2f}')</span></span><span class="code-line"></span><span class="code-line">plt.<span class="function">show</span>()</span></div>
            </div>

            <div class="ejercicio">
                <h3>Ejercicio 7: Simulaci√≥n Monte Carlo</h3>
                
                <p><strong>Objetivo:</strong> Verificar que la teor√≠a funciona generando datos aleatorios.</p>
                
                <div class="code-block"><span class="code-line"><span class="comment"># Generar 10,000 calificaciones simuladas</span></span><span class="code-line">np.random.<span class="function">seed</span>(<span class="number">42</span>)  <span class="comment"># Para reproducibilidad</span></span><span class="code-line">simuladas = dist.<span class="function">rvs</span>(size=<span class="number">10000</span>)</span><span class="code-line"></span><span class="code-line"><span class="comment"># TU TAREA:</span></span><span class="code-line"><span class="comment"># 1. Calcula la proporci√≥n de simuladas que son < 70</span></span><span class="code-line">proporcion_sim_menor_70 = <span class="comment"># TU C√ìDIGO AQU√ç</span></span><span class="code-line"></span><span class="code-line"><span class="comment"># 2. Comp√°rala con la probabilidad te√≥rica</span></span><span class="code-line"><span class="function">print</span>(<span class="string">f"Proporci√≥n simulada P(X<70): {proporcion_sim_menor_70:.4f}"</span>)</span><span class="code-line"><span class="function">print</span>(<span class="string">f"Probabilidad te√≥rica P(X<70): {prob_menor_70:.4f}"</span>)</span><span class="code-line"><span class="function">print</span>(<span class="string">f"Diferencia: {abs(proporcion_sim_menor_70 - prob_menor_70):.4f}"</span>)</span><span class="code-line"></span><span class="code-line"><span class="comment"># 3. Crea un histograma de las simuladas y sobrep√≥n la curva te√≥rica</span></span><span class="code-line">plt.<span class="function">figure</span>(figsize=(<span class="number">10, 6</span>))</span><span class="code-line"><span class="comment"># TU C√ìDIGO AQU√ç</span></span></div>
                
                <div class="tarea">
                    <strong>‚úèÔ∏è TAREA:</strong> 
                    <p>1. ¬øC√≥mo calcular√≠as la proporci√≥n de valores < 70?</p>
                    <input type="text" placeholder="Escribe tu idea..." style="width: 100%; margin: 5px 0;">
                    
                    <p style="margin-top: 15px;">2. ¬øQu√© funci√≥n de matplotlib usar√≠as para el histograma?</p>
                    <input type="text" placeholder="plt._____()" style="width: 100%;">
                </div>
                
                <div class="nota">
                    <strong>üí° Tips de √©xito:</strong>
                    <ul>
                        <li>Verifica tus respuestas: las probabilidades deben estar entre 0 y 1</li>
                        <li>Si algo no funciona en Python, lee el mensaje de error</li>
                        <li>Compara resultados Excel vs Python para validar</li>
                        <li>No tengas miedo de experimentar con los par√°metros</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Funci√≥n para mostrar notificaciones
        function mostrarToast(mensaje, color = '#4caf50') {
            const toast = document.getElementById('toast');
            toast.textContent = mensaje;
            toast.style.background = color;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Funci√≥n para recopilar todas las respuestas
        function recopilarRespuestas() {
            const nombre = document.getElementById('nombre').value || 'Sin nombre';
            const codigo = document.getElementById('codigo').value || 'Sin c√≥digo';
            const email = document.getElementById('email').value || 'Sin email';
            
            let respuestas = `====================================
TALLER DISTRIBUCI√ìN NORMAL
====================================

ESTUDIANTE:
Nombre: ${nombre}
C√≥digo: ${codigo}
Email: ${email}
Fecha: ${new Date().toLocaleDateString('es-CO')}

====================================
RESPUESTAS
====================================

`;

            // Recopilar todos los inputs
            const inputs = document.querySelectorAll('input[type="text"]');
            const secciones = document.querySelectorAll('.ejercicio');
            
            secciones.forEach((seccion, index) => {
                const titulo = seccion.querySelector('h3');
                if (titulo) {
                    respuestas += `\n${titulo.textContent}\n`;
                    respuestas += '-'.repeat(50) + '\n';
                }
                
                const inputsSeccion = seccion.querySelectorAll('input[type="text"]');
                inputsSeccion.forEach((input, i) => {
                    const valor = input.value || '(Sin respuesta)';
                    const placeholder = input.placeholder;
                    
                    // Intentar encontrar la pregunta asociada
                    const fila = input.closest('tr');
                    if (fila) {
                        const pregunta = fila.cells[0]?.textContent || `Pregunta ${i + 1}`;
                        respuestas += `${pregunta}: ${valor}\n`;
                    } else {
                        respuestas += `${placeholder}: ${valor}\n`;
                    }
                });
                respuestas += '\n';
            });

            return respuestas;
        }

        // Funci√≥n para copiar respuestas al portapapeles
        function copiarRespuestas() {
            const respuestas = recopilarRespuestas();
            
            navigator.clipboard.writeText(respuestas).then(() => {
                mostrarToast('‚úÖ Respuestas copiadas al portapapeles', '#4caf50');
            }).catch(err => {
                mostrarToast('‚ùå Error al copiar. Usa Ctrl+C manualmente', '#f44336');
                console.error('Error:', err);
            });
        }

        // Funci√≥n para descargar respuestas como archivo .txt
        function descargarRespuestas() {
            const respuestas = recopilarRespuestas();
            const nombre = document.getElementById('nombre').value || 'estudiante';
            const codigo = document.getElementById('codigo').value || 'sin_codigo';
            
            const blob = new Blob([respuestas], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `Taller_DistNormal_${codigo}_${nombre.replace(/\s+/g, '_')}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            mostrarToast('‚úÖ Archivo descargado correctamente', '#4caf50');
        }

        // Funci√≥n para guardar progreso en localStorage
        function guardarProgreso() {
            const datos = {
                nombre: document.getElementById('nombre').value,
                codigo: document.getElementById('codigo').value,
                email: document.getElementById('email').value,
                respuestas: {}
            };
            
            const inputs = document.querySelectorAll('input[type="text"]');
            inputs.forEach((input, index) => {
                datos.respuestas[`input_${index}`] = input.value;
            });
            
            localStorage.setItem('taller_dist_normal', JSON.stringify(datos));
            mostrarToast('‚úÖ Progreso guardado en tu navegador', '#4caf50');
        }

        // Funci√≥n para cargar progreso guardado
        function cargarProgreso() {
            const datos = localStorage.getItem('taller_dist_normal');
            if (datos) {
                const datosObj = JSON.parse(datos);
                
                document.getElementById('nombre').value = datosObj.nombre || '';
                document.getElementById('codigo').value = datosObj.codigo || '';
                document.getElementById('email').value = datosObj.email || '';
                
                const inputs = document.querySelectorAll('input[type="text"]');
                inputs.forEach((input, index) => {
                    if (datosObj.respuestas[`input_${index}`]) {
                        input.value = datosObj.respuestas[`input_${index}`];
                    }
                });
                
                mostrarToast('‚úÖ Progreso cargado autom√°ticamente', '#2196F3');
            }
        }

        // Guardar autom√°ticamente cada 30 segundos
        setInterval(() => {
            const inputs = document.querySelectorAll('input[type="text"]');
            let hayRespuestas = false;
            inputs.forEach(input => {
                if (input.value.trim() !== '') {
                    hayRespuestas = true;
                }
            });
            
            if (hayRespuestas) {
                guardarProgreso();
            }
        }, 30000);

        // Cargar progreso al iniciar la p√°gina
        window.addEventListener('load', cargarProgreso);
    </script>
</body>
</html>